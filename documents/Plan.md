### План тестирования


#### Данные для тестирования

Номера карт: 

APPROVED (операция одобрена) карта — 1111 2222 3333 4444 

DECLINED (операция отклонена) карта — 5555 6666 7777 8888

Допустимые значения для полей для ввода банковской карты: 
* Номер карты: 16 цифр
* Месяц: две цифры от 01 до 12 
```
Примеры валидного месяца
      * текущий месяц текущего года
      * следующий месяц текущего года
      * 1 месяц следующего года
      * 2 месяц следующего года
      * 11 месяц следующего года
      * 12 месяц следующего года
```
* Год: 
  * В поле вводятся последние две цифры из номера года 
  * Цифры от 0 до 9
  * Год не может быть меньше текущего.

```
Примеры валидного года:
      * Последние две цифры текущего года
      * Последние две цифры следующего года
      * Промежуток между двумя последними двумя цифрами текущего года и 99
```
* Владелец: имя и фамилия указывается на латинице через пробел,
            длина от 3 до 20 символов, 
            может использоваться дефис, но не в качестве первого символа.
```
Примеры заполнения поля "Владелец":
      * Имя и фамилия по одной букве через пробел (длина 3 символа) на латинице
      * Имя и фамилия (длина 4 символа) на латинице
      * Имя и фамилия (длина 19 символов) на латинице
      * Имя и фамилия (длина 20 символов) на латинице 
      * Двойное имя через дефис и фамилия (20 символов) на латинице
```
* CVC/CVV: Любое число от 001 до 999




#### Предварительные шаги

Для тестирования сервиса оплаты дебетовой картой
1. Перейти на главную страницу сервиса
2. Нажать на кнопку "Купить"

Для тестирования сервиса оплаты в кредит
1. Перейти на главную страницу сервиса
2. Нажать на кнопку "Купить в кредит"



#### Сценарии


#### Позитивные:

1. Успешная оплата тура по карте 1111 2222 3333 4444 с введенными валидными данными.
   * Ввести в форму заявки в поле "Номер карты" 1111 2222 3333 4444
   * Заполнить поля "Месяц", "Год", "Владелец", "CVV" валидными данными
   * Нажать кнопку "Продолжить"
   * Зайти на сайт http://185.119.57.197:9998/login
   * Ввести логин/пароль: student/logviewer
   * Найти логи на отправленный запрос 

*Ожидаемый результат:* Оплата прошла успешно. На странице формы заявки отображается сообщение: "Успешно Операция одобрена Банком." В логах запроса для карты указан статус "APPROVED", который подтверждает оплату


#### Негативные:

Отказ со стороны банка:
  
1. Отказ в оплате по карте 5555 6666 7777 8888 с веденными валидными данными в поля "Месяц", "Год", "Владелец", "CVV"
    * Заполнить поля "Месяц", "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"
    * Зайти на сайт http://185.119.57.197:9998/login
    * Ввести логин/пароль: student/logviewer
    * Найти логи на отправленный запрос

*Ожидаемый результат:* Отказ в покупке. Отображается сообщение: "Ошибка! Банк отказал в проведении операции."  В логах запроса для карты указан статус "DECLINED", который подтверждает отказ в проведении оплаты

2. Отказ в оплате по номеру несуществующей карты с введенными валидными данными в поля "Месяц", "Год", "Владелец", "CVV"
    * Заполнить поля "Месяц", "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"
    * Зайти на сайт http://185.119.57.197:9998/login
    * Ввести логин/пароль: student/logviewer
    * Найти логи на отправленный запрос
   
*Ожидаемый результат:* Отказ в покупке. Отображается сообщение: "Ошибка! Банк отказал в проведении операции." В логах запроса для карты указана информация: "Invalid card number", которая подтверждает отказ в проведении оплаты

---

Обработка невалидных данных:

3. Отправка пустой формы.
   * Нажать кнопку "Продолжить"
   
*Ожидаемый результат:* Под всеми полями появляются информационные сообщения об ошибках. Для полей "Номер карты", "Месяц", "Год", "CVV" - "Неверный формат", под полем "Владелец" - "Поле обязательно для заполнения"

4. Отправка формы с пустым полем "Номер карты" 
   * Оставить пустым поле "Номер карты"
   * Заполнить поля "Месяц", "Год", "Владелец", "CVV" - валидными данными
   * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Номер карты" появляется сообщение об ошибке: "Неверный формат"

5. Отправка формы с пустым полем "Месяц"
   * В поле "Номер карты" ввести номер валидной карты 1111 2222 3333 4444
   * Заполнить валидными данными поля "Год", "Владелец", "CVV"
   * Поле "Месяц" оставить пустым.
   * Нажать на кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Неверный формат"

6. Отправка формы с пустым полем "Год"
    * В поле "Номер карты" ввести номер валидной карты 1111 2222 3333 4444
    * Заполнить валидными данными поля "Месяц", "Владелец", "CVV"
    * Поле "Год" оставить пустым.
    * Нажать на кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Год" появляется сообщение об ошибке: "Неверный формат"

7. Отправка формы с пустым полем "Владелец"
    * В поле "Номер карты" ввести номер валидной карты 1111 2222 3333 4444
    * Заполнить валидными данными поля "Месяц", "Год", "CVV"
    * Поле "Владелец" оставить пустым.
    * Нажать на кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Поле обязательно для заполнения"

8. Отправка формы с пустым полем "CVV"
    * В поле "Номер карты" ввести номер валидной карты 1111 2222 3333 4444
    * Заполнить валидными данными поля "Месяц", "Год", "Владелец"
    * Поле "CVV" оставить пустым.
    * Нажать на кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Год" появляется сообщение об ошибке: "Неверный формат"

---
Поле "Номер карты":

9. Отправка формы с введенными нулями в поле "Номер карты"
    * Ввести в поле "Номер карты" 16 нулей
    * Заполнить поля "Месяц", "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Номер карты" появляется сообщение об ошибке: "Неверный формат"

10. Отправка формы с не полностью введенным номером карты в поле "Номер карты"
    * Ввести в поле "Номер карты" 1111 2222 3333 444
    * Заполнить поля "Месяц", "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Номер карты" появляется сообщение об ошибке: "Неверный формат"

---

Поле "Месяц":

11. Отправка формы с введенными нулями в поле "Месяц"
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Месяц" два нуля
    * Заполнить поля "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Неверно указан срок действия карты"

12. Отправка формы с введенными в поле "Месяц" номера прошедшего месяца текущего года.
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Месяц" прошедший месяц текущего года
    * Заполнить поля "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Неверно указан срок действия карты"

13. Отправка формы с введенными в поле "Месяц" номера несуществующего месяца.
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Месяц" 13
    * Заполнить поля "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Неверно указан срок действия карты"

14. Отправка формы с введенными в поле "Месяц" одной цифрой
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Месяц" любую цифру от 0 до 9
    * Заполнить поля "Год", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Неверный формат"

---

Поле "Год":

15. Отправка формы год с введенными двумя нулями в поле "Год"
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Год" одну цифру
    * Заполнить поля "Месяц", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Истёк срок действия карты"

16. Отправка формы с введенной в поле "Год" одной цифрой
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Год" одну цифру
    * Заполнить поля "Месяц", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Неверный формат"

17. Отправка формы с введенной в поле "Год" последних двух цифр прошедшего года
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Год" последние две цифры прошедшего года
    * Заполнить поля "Месяц", "Владелец", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Месяц" появляется сообщение об ошибке: "Истёк срок действия карты"

---

Поле "Владелец":

18. Отправка формы с введенными в поле "Владелец" двух букв на латинице
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" любые две буквы на латинице
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Поле обязательно для заполнения"

19. Отправка формы с введенными в поле "Владелец" имени и фамилии на латинице длиной в 21 символ
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" имя и фамилию на латинице длиной 21 символ
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Длина не может быть больше 20 символов"

20. Отправка формы с введенными в поле "Владелец" имени и фамилии на кириллице длиной 20 символов
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" имя и фамилию на кириллице длиной 20 символов
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Неверный формат"

21. Отправка формы с введенными в поле "Владелец" строки с 20 цифрами от 0 до 9
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" строку с 20 цифрами от 0 до 9
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Неверный формат"

22. Отправка формы с введенными в поле "Владелец" строки с 20 спецсимволами
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" строку с 20 спецсимволами
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Неверный формат"

23. Отправка формы с введенными в поле "Владелец" строки из 20 иероглифов
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" строку из 20 иероглифов
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Неверный формат"

24. Отправка формы с введенными в поле "Владелец" трех пробелов
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" три пробела
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Неверный формат"

25. Отправка формы с введенными в поле "Владелец" трех дефисов
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "Владелец" три дефиса
    * Заполнить поля "Месяц", "Год", "CVV" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "Владелец" появляется сообщение об ошибке: "Неверный формат"

---

Поле "CVC/CVV"

26. Отправка формы с введенными в поле "CVV" тремя нулями
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "CVV" три нуля
    * Заполнить поля "Месяц", "Год", "Владелец" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "CVV" появляется сообщение об ошибке: "Неверный формат"

27. Отправка формы с введенными в поле "CVV" двумя нулями
    * Ввести в поле "Номер карты" 1111 2222 3333 4444
    * Ввести в поле "CVV" два нуля
    * Заполнить поля "Месяц", "Год", "Владелец" валидными данными
    * Нажать кнопку "Продолжить"

*Ожидаемый результат:* Отправка формы не осуществляется. Под полем "CVV" появляется сообщение об ошибке: "Неверный формат"

---

Отказ во внесении данных:

1. Ввод в поле "Номер карты" 17 цифр
    * Ввести в поле "Номер карты" состоящий из 17 цифр: 1111 2222 3333 4444 5

*Ожидаемый результат:* Последний символ не вводится

2. Ввод в поле "Номер карты" букв
    * Ввести в поле "Номер карты" 16 символов на латинице

*Ожидаемый результат:* Поле заблокировано для ввода букв

3. Ввод в поле "Номер карты" спецсимволов
    * Ввести в поле "Номер карты" 16 спецсимволов

*Ожидаемый результат:* Поле заблокировано для ввода спецсимволов

4. Ввод в поле "Номер карты" иероглифов
    * Ввести в поле "Номер карты" 16 иероглифов

*Ожидаемый результат:* Поле заблокировано для ввода спецсимволов

---

5. Ввод в поле "Месяц" букв
    * Ввести в поле "Месяц" две буквы на латинице

*Ожидаемый результат:* Поле заблокировано для ввода букв

6. Ввод в поле "Месяц" спецсимволов
    * Ввести в поле "Месяц" два любых спецсимвола

*Ожидаемый результат:* Поле заблокировано для ввода спецсимволов

7. Ввод в поле "Месяц" иероглифов
    * Ввести в поле "Месяц" два иероглифа

*Ожидаемый результат:* Поле заблокировано для ввода иероглифов

8. Ввод в поле "Месяц" трех цифр
    * Ввести в поле "Месяц" любые три цифры

*Ожидаемый результат:* После ввода первых двух цифр поле блокируется для ввода

---

9. Ввод в поле "Год" букв
    * Ввести в поле "Год" две буквы на латинице

*Ожидаемый результат:* Поле заблокировано для ввода букв

10. Ввод в поле "Год" спецсимволов
    * Ввести в поле "Год" два любых спецсимвола

*Ожидаемый результат:* Поле заблокировано для ввода спецсимволов

11. Ввод в поле "Год" иероглифов
    * Ввести в поле "Год" два любых иероглифа

*Ожидаемый результат:* Поле заблокировано для ввода иероглифов

12. Ввод в поле "Год" трех цифр
    * Ввести в поле "Год" три любых цифры

*Ожидаемый результат:* После ввода двух цифр поле блокируется для ввода

---

13. Ввод в поле "CVV" четырех цифр
    * Ввести в поле "CVV" три любые четыре цифры

*Ожидаемый результат:* После ввода трех цифр поле блокируется для ввода

14. Ввод в поле "CVV" трех букв 
    * Ввести в поле "CVV" три любые буквы на латинице
    
*Ожидаемый результат:* Поле заблокировано для ввода букв

15. Ввод в поле "CVV" трех спецсимволов
    * Ввести в поле "CVV" три любых спецсимвола

*Ожидаемый результат:* Поле заблокировано для ввода спецсимволов

16. Ввод в поле "CVV" трех иероглифов
    * Ввести в поле "CVV" три иероглифа

*Ожидаемый результат:* Поле заблокировано для ввода иероглифов



**Перечень используемых инструментов с обоснованием выбора**
   * IntelliJ IDEA Community Edition - среда разработки для работы над проектом
   * Gradle - система сборки проекта
   * Java - язык программирования для написания кода
   * JUnit 5 Gradle - плагин для Gradle, который позволяет запускать тесты на платформе JUnit 5.
   * Lombok - библиотека, которая позволяет писать меньше кода
   * Selenide - фреймворк для автоматизированного тестирования веб-приложений
   * Faker - библиотека, которая помогает генерировать правдоподобные, но вымышленные данные пользователя.
   * DBUtils - библиотека, которая значительно упрощает работу с JDBC;
   * Git - система контроля версий
   * GitHub - крупнейший веб-сервис для хостинга IT-проектов и их совместной разработки
   * Docker Desktop - программа для работы с Docker-контейнерами на локальной машине.
   * Allure - фреймворк для создания простых и понятных отчетов проведенных автотестов

   
**Перечень и описание возможных рисков при автоматизации**
   * Отсутствие тестовых меток увеличивает сложность написания тестов
   * Изменение пользовательского интерфейса приведет к необходимости переработать тесты
   * Отсутствие технической документации влияет на понимание правильности работы приложения
   * Отсутствие связи с банковским приложением или базой данных влияет на результат автотестов

**Интервальная оценка с учётом рисков в часах**
   * Написание автотестов - 96 часа (+ 24 часа с учетом рисков)

**План сдачи работ: когда будут проведены автотесты, результаты их проведения и отчёт по автоматизации**
   * Написание автотестов - 
   * Результаты прогона - 
   * Отчет - 
